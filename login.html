<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - World Bank</title>
    <link rel="stylesheet" href="/globaltrust-bank/css/style.css">
</head>
<body class="auth-body">
    <div class="auth-container">
        <h2>Login to Your Account</h2>
        <form id="loginForm">
            <input type="email" placeholder="Email Address" required>
            <input type="password" placeholder="Password" required>
            <button type="submit">Login</button>
            <p><a href="#" id="forgotLink" class="forgot-link">Forgot Password?</a></p>
            <p class="auth-link">Don't have an account? <a href="signup.html">Sign up</a></p>
        </form>
    </div>

    <!--Login Success Popup-->
    <div class="popup" id="loginpopup">
        <div class="popup-content">
            <h3>Login Successful</h3>
            <p>Welcome back to World Bank!</p>
            <button onclick="closeLoginPopup()">Continue</button>
        </div>
    </div>

    <!--Forgot Password Popup-->
    <div class="popup" id="forgotPopup">
        <div class="popup-content">
            <h3>Password Reset</h3>
            <p>Enter your registered email address, and we'll send password reset instructions.</p>
            <form id="forgotForm">
                <input type="email" placeholder="Enter your email" required>
                <button type="submit">Send Reset Link</button>
            </form>
            <button onclick="closeForgotPopup()">Cancel</button>
        </div>
    </div>

    <!--Password Reset Confirmation-->
    <div class="popup" id="resetPopup">
        <div class="popup-content">
            <h3>Reset Link Sent</h3>
            <p>We've sent password reset instructions to your email.</p>
            <button onclick="closeResetPopup()">OK</button>
        </div>
    </div>

    <!--<script>
        const form = document.getElementById("loginForm");
        const popup = document.getElementById("loginPopup");
        const forgotLink = document.getElementById("forgotLink");
        const forgotPopup = document.getElementById("forgotPopup");
        const forgotForm = document.getElementById("forgotForm");
        const resetPopup = document.getElementById("resetPopup")

        //Login submission
        loginForm.addEventListener("submit", (e) => {
            e.preventDefault();
            loginPopup.style.display = "flex";
            loginForm.reset();
        });

        function closeLoginPopup() {
            popup.style.display = "none";
            window.location.href = "account.html"; //Redirect to user account
        }

        //Forgot password popup
        forgotLink.addEventListener("click", (e) => {
            e.preventDefault();
            forgotPopup.style.display = "flex";
        });

        function closeForgotPopup() {
            forgotPopup.style.display = "none";
        }

        //Reset email submission
        forgotForm.addEventListener("submit", (e) => {
            e.preventDefault();
            forgotPopup.style.display = "none";
            resetPopup.style.display = "flex";
            forgotForm.reset();
        });

        function closeResetPopup() {
            resetPopup.style.display = "none";
        }

        document.getElementById("loginForm").addEventListener("submit", async (e) => {
            e.preventDefault();

            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;

            const response = await fetch("http://localhost:5000/api/auth/login", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify({ email, password }),
            });

            const data = await response.json();
            if (response.ok) {
              alert("Login successful!");
              console.log("User:", data);
            } else {
              alert(data.message || "Login failed");
            }
          });

    </script>-->
</body>
</html>